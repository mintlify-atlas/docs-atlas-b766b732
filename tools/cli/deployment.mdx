---
title: 'Deployment'
description: 'Deploy your MCP server to production with cloud, Docker, or Node.js'
icon: 'rocket'
---

# Deployment

Multiple options for deploying your MCP server to production.

## Deployment Options

<CardGroup cols={2}>
  <Card title="mcp-use Cloud" icon="cloud" href="#mcp-use-cloud">
    One-command deployment with automatic scaling
  </Card>
  <Card title="Docker" icon="docker" href="#docker-deployment">
    Containerized deployment for any platform
  </Card>
  <Card title="Node.js" icon="node-js" href="#nodejs-deployment">
    Direct Node.js with PM2 or systemd
  </Card>
  <Card title="Serverless" icon="bolt" href="#serverless-deployment">
    Deploy to serverless platforms
  </Card>
</CardGroup>

## mcp-use Cloud

The fastest way to deploy with automatic builds, SSL, and scaling.

### Quick Start

<Steps>
  <Step title="Login">
    ```bash
    mcp-use login
    ```

    Opens browser for authentication.
  </Step>

  <Step title="Deploy">
    ```bash
    mcp-use deploy
    ```

    Deploys from your Git repository.
  </Step>

  <Step title="Get URL">
    ```
    ‚úÖ Deployed successfully!
    üîó https://your-server.run.mcp-use.com/mcp
    ```

    Your server is live!
  </Step>
</Steps>

### Features

<AccordionGroup>
  <Accordion title="Automatic Builds" icon="hammer">
    Cloud builds your server automatically:
    - Installs dependencies
    - Compiles TypeScript
    - Builds widgets
    - Starts server

    No manual build steps needed.
  </Accordion>

  <Accordion title="SSL Certificates" icon="lock">
    Automatic HTTPS with valid SSL certificates:
    ```
    https://your-server.run.mcp-use.com/mcp
    ```

    No certificate management required.
  </Accordion>

  <Accordion title="Custom Domains" icon="globe">
    Use your own domain:
    ```bash
    mcp-use deploy --domain api.mycompany.com
    ```
  </Accordion>

  <Accordion title="Environment Variables" icon="gear">
    Securely manage secrets:
    ```bash
    mcp-use deploy \
      --env API_KEY=secret123 \
      --env DATABASE_URL=postgres://...
    ```

    Or use env file:
    ```bash
    mcp-use deploy --env-file .env.production
    ```
  </Accordion>

  <Accordion title="Auto-Scaling" icon="chart-line">
    Automatically scales based on load:
    - Low traffic: 1 instance
    - High traffic: Multiple instances
    - Zero downtime deployments
  </Accordion>

  <Accordion title="Logs & Monitoring" icon="chart-bar">
    View logs in real-time:
    ```bash
    mcp-use deployments logs <id>
    ```

    Monitor performance and errors.
  </Accordion>
</AccordionGroup>

### GitHub Integration

Cloud deployment requires GitHub:

<Steps>
  <Step title="Push to GitHub">
    ```bash
    git remote add origin https://github.com/user/mcp-server.git
    git push -u origin main
    ```
  </Step>

  <Step title="Install GitHub App">
    When you run `mcp-use deploy`, you'll be prompted to install the GitHub App:

    ```
    ‚ö†Ô∏è  GitHub App not installed
    üîó Install at: https://github.com/apps/mcp-use
    ```

    Click the link and grant repository access.
  </Step>

  <Step title="Deploy">
    ```bash
    mcp-use deploy
    ```

    Deployment proceeds automatically.
  </Step>
</Steps>

### Managing Deployments

```bash
# List all deployments
mcp-use deployments list

# Get deployment details
mcp-use deployments info <id>

# View logs
mcp-use deployments logs <id> --follow

# Redeploy
mcp-use deploy

# Delete deployment
mcp-use deployments delete <id>
```

## Docker Deployment

Deploy anywhere with Docker containers.

### Dockerfile

Create a production-ready Dockerfile:

```dockerfile Dockerfile
FROM node:20-alpine

# Install build dependencies
RUN apk add --no-cache python3 make g++

WORKDIR /app

# Copy package files
COPY package*.json ./

# Install dependencies
RUN npm ci --production=false

# Copy source code
COPY . .

# Build application
RUN npm run build

# Remove dev dependencies
RUN npm ci --production

# Expose port
EXPOSE 3000

# Health check
HEALTHCHECK --interval=30s --timeout=10s --start-period=30s --retries=3 \
  CMD node -e "require('http').get('http://localhost:3000/inspector/health', (res) => process.exit(res.statusCode === 200 ? 0 : 1))"

# Start server
CMD ["npm", "start"]
```

### Build and Run

<CodeGroup>

```bash Build Image
# Build the image
docker build -t my-mcp-server .

# Run container
docker run -d \
  -p 3000:3000 \
  --name mcp-server \
  my-mcp-server
```

```bash With Environment Variables
docker run -d \
  -p 3000:3000 \
  --name mcp-server \
  --env PORT=3000 \
  --env NODE_ENV=production \
  --env API_KEY=secret123 \
  my-mcp-server
```

```bash With Volume Mounts
docker run -d \
  -p 3000:3000 \
  --name mcp-server \
  -v $(pwd)/data:/app/data \
  -v $(pwd)/.env:/app/.env:ro \
  my-mcp-server
```

</CodeGroup>

### Docker Compose

For multi-container deployments:

```yaml docker-compose.yml
version: "3.8"

services:
  mcp-server:
    build: .
    ports:
      - "3000:3000"
    environment:
      - NODE_ENV=production
      - PORT=3000
    env_file:
      - .env.production
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "node", "-e", "require('http').get('http://localhost:3000/inspector/health', (r) => process.exit(r.statusCode === 200 ? 0 : 1))"]
      interval: 30s
      timeout: 10s
      retries: 3
    volumes:
      - ./data:/app/data

  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
      - ./ssl:/etc/nginx/ssl:ro
    depends_on:
      - mcp-server
    restart: unless-stopped
```

Start with:
```bash
docker-compose up -d
```

## Node.js Deployment

Deploy directly with Node.js using PM2 or systemd.

### PM2 (Recommended)

PM2 provides process management, monitoring, and auto-restart:

<Steps>
  <Step title="Install PM2">
    ```bash
    npm install -g pm2
    ```
  </Step>

  <Step title="Build Application">
    ```bash
    npm run build
    ```
  </Step>

  <Step title="Start with PM2">
    ```bash
    pm2 start npm --name "mcp-server" -- start
    ```

    Or use ecosystem file:
    ```javascript ecosystem.config.js
    module.exports = {
      apps: [{
        name: 'mcp-server',
        script: 'npm',
        args: 'start',
        instances: 2,
        exec_mode: 'cluster',
        env: {
          NODE_ENV: 'production',
          PORT: 3000,
        },
      }],
    };
    ```

    ```bash
    pm2 start ecosystem.config.js
    ```
  </Step>

  <Step title="Save Configuration">
    ```bash
    pm2 save
    pm2 startup
    ```

    Ensures server starts on reboot.
  </Step>

  <Step title="Monitor">
    ```bash
    pm2 status
    pm2 logs mcp-server
    pm2 monit
    ```
  </Step>
</Steps>

### PM2 Commands

```bash
# Start
pm2 start mcp-server

# Stop
pm2 stop mcp-server

# Restart
pm2 restart mcp-server

# Reload (zero-downtime)
pm2 reload mcp-server

# Delete
pm2 delete mcp-server

# View logs
pm2 logs mcp-server --lines 100

# Monitor
pm2 monit
```

### systemd Service

For Linux servers without PM2:

```ini /etc/systemd/system/mcp-server.service
[Unit]
Description=MCP Server
After=network.target

[Service]
Type=simple
User=www-data
WorkingDirectory=/var/www/mcp-server
Environment="NODE_ENV=production"
Environment="PORT=3000"
ExecStart=/usr/bin/node dist/index.js
Restart=on-failure
RestartSec=10
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target
```

Enable and start:
```bash
sudo systemctl enable mcp-server
sudo systemctl start mcp-server
sudo systemctl status mcp-server
```

## Serverless Deployment

Deploy to serverless platforms.

### Vercel

<Steps>
  <Step title="Install Vercel CLI">
    ```bash
    npm install -g vercel
    ```
  </Step>

  <Step title="Configure vercel.json">
    ```json vercel.json
    {
      "version": 2,
      "builds": [
        {
          "src": "dist/index.js",
          "use": "@vercel/node"
        }
      ],
      "routes": [
        {
          "src": "/(.*)",
          "dest": "dist/index.js"
        }
      ]
    }
    ```
  </Step>

  <Step title="Deploy">
    ```bash
    npm run build
    vercel --prod
    ```
  </Step>
</Steps>

### Railway

<Steps>
  <Step title="Connect Repository">
    1. Go to [railway.app](https://railway.app)
    2. Click "New Project"
    3. Select "Deploy from GitHub repo"
  </Step>

  <Step title="Configure">
    Railway auto-detects Node.js:
    - Install command: `npm install`
    - Build command: `npm run build`
    - Start command: `npm start`
  </Step>

  <Step title="Add Variables">
    Set environment variables in Railway dashboard.
  </Step>

  <Step title="Deploy">
    Push to GitHub to trigger deployment.
  </Step>
</Steps>

### Render

Similar to Railway:

1. Connect GitHub repository
2. Select "Web Service"
3. Set build command: `npm run build`
4. Set start command: `npm start`
5. Add environment variables
6. Deploy

## Environment Variables

Critical environment variables for production:

```bash .env.production
# Required
NODE_ENV=production
PORT=3000
MCP_URL=https://yourdomain.com

# Optional
DATABASE_URL=postgres://...
REDIS_URL=redis://...
API_KEY=your-api-key

# Secrets
OAUTH_CLIENT_SECRET=secret
JWT_SECRET=secret
```

<Warning>
  Never commit `.env.production` to Git. Use platform-specific secret management.
</Warning>

## SSL/TLS Configuration

For custom domain deployments:

### Let's Encrypt with Certbot

```bash
# Install certbot
sudo apt-get install certbot python3-certbot-nginx

# Obtain certificate
sudo certbot --nginx -d yourdomain.com

# Auto-renewal
sudo certbot renew --dry-run
```

### Nginx SSL Configuration

```nginx /etc/nginx/sites-available/mcp-server
server {
    listen 443 ssl http2;
    server_name yourdomain.com;

    ssl_certificate /etc/letsencrypt/live/yourdomain.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/yourdomain.com/privkey.pem;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}

server {
    listen 80;
    server_name yourdomain.com;
    return 301 https://$server_name$request_uri;
}
```

## Monitoring

Set up monitoring for production:

### Health Checks

Use the built-in health endpoint:

```bash
curl https://yourdomain.com/inspector/health
```

### Uptime Monitoring

Configure external monitoring:
- [UptimeRobot](https://uptimerobot.com)
- [Pingdom](https://www.pingdom.com)
- [StatusCake](https://www.statuscake.com)

### Application Monitoring

Integrate APM tools:
- [New Relic](https://newrelic.com)
- [Datadog](https://www.datadoghq.com)
- [Sentry](https://sentry.io)

```bash
npm install @sentry/node
```

```typescript src/index.ts
import * as Sentry from "@sentry/node";

Sentry.init({
  dsn: process.env.SENTRY_DSN,
  environment: process.env.NODE_ENV,
});
```

## Troubleshooting

<AccordionGroup>
  <Accordion title="Port Already in Use" icon="circle-xmark">
    **Error:** `EADDRINUSE: address already in use`

    **Solutions:**
    
    1. Check what's using the port:
       ```bash
       lsof -i :3000
       ```

    2. Kill the process:
       ```bash
       kill -9 <PID>
       ```

    3. Use different port:
       ```bash
       PORT=3001 npm start
       ```
  </Accordion>

  <Accordion title="Out of Memory" icon="memory">
    **Error:** `JavaScript heap out of memory`

    **Solutions:**
    
    1. Increase Node.js memory:
       ```bash
       NODE_OPTIONS="--max-old-space-size=4096" npm start
       ```

    2. PM2 configuration:
       ```javascript
       max_memory_restart: '1G'
       ```

    3. Scale horizontally with more instances.
  </Accordion>

  <Accordion title="Build Failures" icon="hammer">
    **Error:** Build fails on deployment

    **Solutions:**
    
    1. Test build locally:
       ```bash
       npm run build
       ```

    2. Check Node.js version:
       ```json package.json
       "engines": {
         "node": ">=20.19.0"
       }
       ```

    3. Clear cache and rebuild:
       ```bash
       rm -rf dist node_modules
       npm install
       npm run build
       ```
  </Accordion>
</AccordionGroup>

## Next Steps

<CardGroup cols={2}>
  <Card title="Commands" icon="terminal" href="/tools/cli/commands">
    Complete CLI command reference
  </Card>
  <Card title="Create App" icon="plus" href="/tools/create-app/overview">
    Scaffold new MCP projects
  </Card>
</CardGroup>
